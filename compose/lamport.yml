services:
  lamport-server:
    build:
      context: ../
      dockerfile: Sync/Dockerfile
    container_name: lamport-server
    command: ["python", "s_lamp.py"]
    volumes:
      - ../Sync:/app/Sync:rw
    # tidak perlu ports kalau client juga di Docker
    # kalau mau akses dari host langsung, baru tambahkan:
    # ports:
    #   - "12345:12345"

  lamport-client:
    build:
      context: ../
      dockerfile: Sync/Dockerfile
    container_name: lamport-client
    depends_on:
      - lamport-server
    command: ["tail", "-f", "/dev/null"]
    volumes:
      - ../Sync:/app/Sync:rw
